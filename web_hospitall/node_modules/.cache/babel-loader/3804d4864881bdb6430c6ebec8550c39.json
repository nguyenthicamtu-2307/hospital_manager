{"remainingRequest":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\manage\\pages\\Chat.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\manage\\pages\\Chat.vue","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\babel.config.js","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696259729020},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696259729376}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0ZQVFNIT1AvRG93bmxvYWRzL2RvYW4tbWFpbi9kb2FuLW1haW4vd2ViX2hvc3BpdGFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvRlBUU0hPUC9Eb3dubG9hZHMvZG9hbi1tYWluL2RvYW4tbWFpbi93ZWJfaG9zcGl0YWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL0ZQVFNIT1AvRG93bmxvYWRzL2RvYW4tbWFpbi9kb2FuLW1haW4vd2ViX2hvc3BpdGFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IEJhc2UgZnJvbSAiLi9CYXNlLnZ1ZSI7CmltcG9ydCBDaGF0UG9wdXBDb250ZW50IGZyb20gIi4uLy4uL0NoYXRQb3B1cENvbnRlbnQudnVlIjsKaW1wb3J0IFJlcXVlc3QgZnJvbSAiLi4vLi4vLi4vUmVxdWVzdCI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IFVSTF9JTUFHRSB9IGZyb20gIi4uLy4uLy4uL0NvbmZpZyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhc2U6IEJhc2UsCiAgICBDaGF0UG9wdXBDb250ZW50OiBDaGF0UG9wdXBDb250ZW50CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydhZG1pbicsICdzb2NrZXQnLCAna2V5Q2hhdCddKSksCiAgbWV0aG9kczogewogICAgaGFuZGxlSXRlbUNoYXQ6IGZ1bmN0aW9uIGhhbmRsZUl0ZW1DaGF0KGdyb3VwQ2hhdCwgaW5kZXgpIHsKICAgICAgdGhpcy5ncm91cENoYXQgPSBncm91cENoYXQ7CgogICAgICB2YXIgY2xvbmUgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5ncm91cENoYXRzKTsKCiAgICAgIGNsb25lW2luZGV4XS5sZW5ndGhJc1JlYWQgPSAwOwogICAgICB0aGlzLmdyb3VwQ2hhdHMgPSBjbG9uZTsKICAgIH0sCiAgICBzZXRNZXNzYWdlOiBmdW5jdGlvbiBzZXRNZXNzYWdlKG1lc3NhZ2UpIHsKICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5tZXNzYWdlcyksIFttZXNzYWdlXSk7CiAgICB9LAogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZW5kTWVzc2FnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShtZXNzYWdlKSB7CiAgICAgICAgdmFyIF90aGlzJGdyb3VwQ2hhdCwgX3RoaXMkZ3JvdXBDaGF0JGdyb3VwLCBfdGhpcyRhZG1pbiwgX3RoaXMkYWRtaW4yLCBfdGhpcyRncm91cENoYXQyLCBfdGhpcyRncm91cENoYXQyJGdyb3UsIHJlc3VsdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0LlBvc3QoJy9jaGF0cycsIHsKICAgICAgICAgICAgICAgICAgaWRncm91cGNoYXQ6IChfdGhpcyRncm91cENoYXQgPSB0aGlzLmdyb3VwQ2hhdCkgPT09IG51bGwgfHwgX3RoaXMkZ3JvdXBDaGF0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkZ3JvdXBDaGF0JGdyb3VwID0gX3RoaXMkZ3JvdXBDaGF0Lmdyb3VwQ2hhdCkgPT09IG51bGwgfHwgX3RoaXMkZ3JvdXBDaGF0JGdyb3VwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRncm91cENoYXQkZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfY2hhdDogbWVzc2FnZS5jb250ZW50X2NoYXQsCiAgICAgICAgICAgICAgICAgIGlzX3VzZXI6IChfdGhpcyRhZG1pbiA9IHRoaXMuYWRtaW4pID09PSBudWxsIHx8IF90aGlzJGFkbWluID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhZG1pbi5pZCwKICAgICAgICAgICAgICAgICAgaWRhZG1pbjogKF90aGlzJGFkbWluMiA9IHRoaXMuYWRtaW4pID09PSBudWxsIHx8IF90aGlzJGFkbWluMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWRtaW4yLmlkLAogICAgICAgICAgICAgICAgICB0eXBlX2NoYXQ6IDEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzdWx0LmRhdGEuZGF0YS5faWQgPSAoX3RoaXMkZ3JvdXBDaGF0MiA9IHRoaXMuZ3JvdXBDaGF0KSA9PT0gbnVsbCB8fCBfdGhpcyRncm91cENoYXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkZ3JvdXBDaGF0MiRncm91ID0gX3RoaXMkZ3JvdXBDaGF0Mi5ncm91cENoYXQpID09PSBudWxsIHx8IF90aGlzJGdyb3VwQ2hhdDIkZ3JvdSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZ3JvdXBDaGF0MiRncm91LnVzZXI7CiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCdjaGF0TWVzc2FnZScsIHJlc3VsdC5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5tZXNzYWdlcyksIFtyZXN1bHQuZGF0YS5kYXRhXSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzZW5kTWVzc2FnZShfeCkgewogICAgICAgIHJldHVybiBfc2VuZE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlbmRNZXNzYWdlOwogICAgfSgpCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgaWQ6IG51bGwsCiAgICAgIGdyb3VwQ2hhdHM6IFtdLAogICAgICBncm91cENoYXQ6IHsKICAgICAgICBpZDogbnVsbAogICAgICB9LAogICAgICB1cmxJbWFnZTogVVJMX0lNQUdFICsgJ3VzZXItdmVjdG9yLmpwZWcnLAogICAgICBtZXNzYWdlczogW10sCiAgICAgIGxvYWRpbmdNZXNzYWdlOiBmYWxzZSwKICAgICAgbW9tZW50OiBtb21lbnQKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgYWRtaW46IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hZG1pbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIobmV3RGF0YSkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0LkdldCgiL2dyb3VwQ2hhdHMvIi5jb25jYXQobmV3RGF0YSA9PT0gbnVsbCB8fCBuZXdEYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXdEYXRhLmlkKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5ncm91cENoYXRzID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzAsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGFkbWluKF94MikgewogICAgICAgIHJldHVybiBfYWRtaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFkbWluOwogICAgfSgpLAogICAga2V5Q2hhdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2tleUNoYXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfdGhpcyRhZG1pbjMsIHJlc3VsdDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0LkdldCgiL2dyb3VwQ2hhdHMvIi5jb25jYXQoKF90aGlzJGFkbWluMyA9IHRoaXMuYWRtaW4pID09PSBudWxsIHx8IF90aGlzJGFkbWluMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWRtaW4zLmlkKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5ncm91cENoYXRzID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDMudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzAsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGtleUNoYXQoKSB7CiAgICAgICAgcmV0dXJuIF9rZXlDaGF0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBrZXlDaGF0OwogICAgfSgpLAogICAgZ3JvdXBDaGF0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ3JvdXBDaGF0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDA7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0LkdldCgiL2NoYXRzLyIuY29uY2F0KHRoaXMuZ3JvdXBDaGF0Lmdyb3VwQ2hhdC5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXMgPSByZXN1bHQuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nTWVzc2FnZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDQudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzLCBbWzAsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdyb3VwQ2hhdCgpIHsKICAgICAgICByZXR1cm4gX2dyb3VwQ2hhdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ3JvdXBDaGF0OwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["Base","ChatPopupContent","Request","mapState","URL_IMAGE","moment","components","computed","methods","handleItemChat","groupChat","index","clone","groupChats","lengthIsRead","setMessage","message","messages","sendMessage","Post","idgroupchat","id","content_chat","is_user","admin","idadmin","type_chat","result","data","_id","user","socket","emit","console","log","loading","urlImage","loadingMessage","watch","newData","Get","alert","keyChat"],"sourceRoot":"","sources":["C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\manage\\pages\\Chat.vue"],"sourcesContent":["<template>\n    <Base>\n    <div v-if=\"!loading\" class=\"chat\">\n        <div class=\"chat__left\">\n            <div class=\"chat__left--search\">\n                <input type=\"text\" placeholder=\"Search\">\n                <span class=\"bx bx-search\"></span>\n            </div>\n            <div class=\"chat__left--content\">\n                <div v-for=\"(item, index) in groupChats\" :key=\"item.id\">\n                    <div @click=\"handleItemChat(item, index)\" class=\"chat__item\"\n                        :class=\"groupChat.id === item.groupChat.id ? 'active' : ''\">\n                        <div class=\"chat__item--image\">\n                            <img :src=\"urlImage\" alt=\"\" srcset=\"\">\n                            <span></span>\n                        </div>\n                        <div class=\"chat__item--content\">\n                            <p>{{ item.groupChat.fullname }}</p>\n                            <p>{{ item.message?.content_chat || ':)' }}</p>\n                        </div>\n                        <div class=\"chat__item--time\">\n                            <p></p>\n                            <!-- <p>{{ moment(item.message?.created_at).fromNow() }}</p> -->\n                            <p v-if=\"item.lengthIsRead != 0\">{{ item.lengthIsRead }}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"chat__right\">\n            <div class=\"chat__right--top\">\n                <span style=\"cursor: pointer;\">Xoa tat ca</span>\n            </div>\n            <ChatPopupContent v-if=\"!loadingMessage\" :messages=\"messages\" :id=\"groupChat?.groupChat?.user\"\n                :groupChat=\"groupChat.groupChat\" :_id=\"admin?.id\" :setMessage=\"setMessage\" :sendMessage=\"sendMessage\" />\n            <div v-else class=\"loading__content\">\n                <span class=\"bx bx-loader loading\"></span>\n            </div>\n        </div>\n    </div>\n    <div v-else class=\"loading__content\">\n        <span class=\"bx bx-loader loading\"></span>\n    </div>\n    </Base>\n</template>\n<script>\nimport Base from \"./Base.vue\";\nimport ChatPopupContent from \"../../ChatPopupContent.vue\";\nimport Request from \"../../../Request\";\nimport { mapState } from \"vuex\";\nimport { URL_IMAGE } from \"../../../Config\";\nimport moment from \"moment\";\n\nexport default {\n    components: {\n        Base,\n        ChatPopupContent\n    },\n    computed: {\n        ...mapState(['admin', 'socket', 'keyChat'])\n    },\n    methods: {\n        handleItemChat: function (groupChat, index) {\n            this.groupChat = groupChat;\n            let clone = [...this.groupChats];\n            clone[index].lengthIsRead = 0;\n            this.groupChats = clone;\n        },\n        setMessage: function (message) {\n            this.messages = [...this.messages, message];\n        },\n        sendMessage: async function (message) {\n            try {\n                const result = await Request.Post('/chats', {\n                    idgroupchat: this.groupChat?.groupChat?.id,\n                    content_chat: message.content_chat,\n                    is_user: this.admin?.id,\n                    idadmin: this.admin?.id,\n                    type_chat: 1,\n                });\n                result.data.data._id = this.groupChat?.groupChat?.user;\n                this.socket.emit('chatMessage', result.data.data);\n                this.messages = [...this.messages, result.data.data];\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    },\n    data() {\n        return {\n            loading: true,\n            id: null,\n            groupChats: [],\n            groupChat: { id: null },\n            urlImage: URL_IMAGE + 'user-vector.jpeg',\n            messages: [],\n            loadingMessage: false,\n            moment: moment\n        }\n    },\n    watch: {\n        admin: async function (newData) {\n            try {\n                const result = await Request.Get(`/groupChats/${newData?.id}`);\n                this.groupChats = result.data.data;\n                this.loading = false;\n            } catch (error) {\n                alert(error);\n            }\n        },\n        keyChat: async function () {\n            try {\n                const result = await Request.Get(`/groupChats/${this.admin?.id}`);\n                this.groupChats = result.data.data;\n                this.loading = false;\n            } catch (error) {\n                alert(error);\n            }\n        },\n        groupChat: async function () {\n            try {\n                this.loadingMessage = true;\n                const result = await Request.Get(`/chats/${this.groupChat.groupChat.id}`);\n                this.messages = result.data.data;\n                this.loadingMessage = false;\n            } catch (error) {\n                alert(error);\n            }\n        }\n    }\n}\n</script>"]}]}