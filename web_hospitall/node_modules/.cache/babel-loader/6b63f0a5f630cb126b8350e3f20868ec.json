{"remainingRequest":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\manage\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\manage\\Login.vue","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\babel.config.js","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696259729020},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696259729376}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0ZQVFNIT1AvRG93bmxvYWRzL2RvYW4tbWFpbi9kb2FuLW1haW4vd2ViX2hvc3BpdGFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFJlcXVlc3QgZnJvbSAnQC9SZXF1ZXN0JzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnLi9Mb2FkaW5nLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZDogZmFsc2UsCiAgICAgIGFjY291bnQ6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIGVycm9yczoge30sCiAgICAgIHN0YXR1czogJycKICAgIH07CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHZhciBBdXRoID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJLLWFkbWluIik7CgogICAgaWYgKEF1dGgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdtYW5hZ2UnCiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzLCBfZXJyb3IkcmVzcG9uc2UkZGF0YSQsIF9lcnJvciRyZXNwb25zZSRkYXRhJDI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMubG9hZCA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVxdWVzdC5sb2dpbignL2FkbWluLWxvZ2luJywgdGhpcy5hY2NvdW50KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnSy1hZG1pbicsIHJlcy5kYXRhLnRva2VuKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucm9sZSA9PSAnMCcpIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtYW5hZ2UnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtYW5hZ2UnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0LnQwLnJlc3BvbnNlLnN0YXR1cyA9PSA1MDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSAnS2jDtG5nIHRo4buDIGvhur90IG7hu5FpIMSR4bq/biBzZXJ2ZXInOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkID0gZmFsc2U7IC8vIHRoaXMuZXJyb3JzID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnM7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMudXNlcm5hbWUgPSAoX2Vycm9yJHJlc3BvbnNlJGRhdGEkID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5lcnJvcnMudXNlcm5hbWUpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSRkYXRhJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlJGRhdGEkWzBdOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucGFzc3dvcmQgPSAoX2Vycm9yJHJlc3BvbnNlJGRhdGEkMiA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3JzLnBhc3N3b3JkKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UkZGF0YSQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2UkZGF0YSQyWzBdOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1szLCAxMl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9naW47CiAgICB9KCkKICB9Cn07"},{"version":3,"mappings":";;AAyCA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,eAAe;EACdC,IADc,kBACP;IACN,OAAO;MACNC,IAAI,EAAE,KADA;MAENC,OAAO,EAAE;QACRC,QAAQ,EAAE,EADF;QAERC,QAAQ,EAAE;MAFF,CAFH;MAMNC,MAAM,EAAE,EANF;MAONC,MAAM,EAAE;IAPF,CAAP;EASA,CAXa;EAYdC,YAZc,0BAYC;IACd,IAAIC,IAAG,GAAIC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAX;;IACA,IAAIH,IAAJ,EAAU;MACT,KAAKI,OAAL,CAAaC,IAAb,CAAkB;QAAEC,IAAI,EAAE;MAAR,CAAlB;IACD;EACA,CAjBa;EAkBdC,UAAU,EAAE;IACXhB,OAAM,EAANA;EADW,CAlBE;EAqBdiB,OAAO,EAAE;IACRC,KAAK;MAAA,qEAAE;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACN,KAAKhB,IAAL,GAAY,IAAZ;gBACA,KAAKK,MAAL,GAAc,EAAd;gBACA,KAAKD,MAAL,GAAc,EAAd;gBAHM;gBAAA;gBAAA,OAKaP,OAAO,CAACmB,KAAR,CAAc,cAAd,EAA8B,KAAKf,OAAnC,CALb;;cAAA;gBAKCgB,GALD;gBAMLT,MAAM,CAACC,YAAP,CAAoBS,OAApB,CAA4B,SAA5B,EAAuCD,GAAG,CAAClB,IAAJ,CAASoB,KAAhD;;gBACA,IAAIF,GAAG,CAAClB,IAAJ,CAASqB,IAAT,IAAiB,GAArB,EAA0B;kBACzB,KAAKT,OAAL,CAAaC,IAAb,CAAkB;oBAAEC,IAAI,EAAE;kBAAR,CAAlB;gBACD,CAFA,MAGK;kBACJ,KAAKF,OAAL,CAAaC,IAAb,CAAkB;oBAAEC,IAAI,EAAE;kBAAR,CAAlB;gBACD;;gBAEA,KAAKb,IAAL,GAAY,KAAZ;gBAdK;gBAAA;;cAAA;gBAAA;gBAAA;;gBAAA,MAgBD,YAAMqB,QAAN,CAAehB,MAAf,IAAyB,GAhBxB;kBAAA;kBAAA;gBAAA;;gBAiBJ,KAAKA,MAAL,GAAc,8BAAd;gBACA,KAAKL,IAAL,GAAY,KAAZ;gBAlBI;;cAAA;gBAqBL,KAAKK,MAAL,GAAc,YAAMgB,QAAN,CAAetB,IAAf,CAAoBuB,OAAlC;gBACA,KAAKtB,IAAL,GAAY,KAAZ,CAtBK,CAuBL;;gBACAuB,OAAO,CAACC,GAAR;gBACA,KAAKpB,MAAL,CAAYF,QAAZ,4BAAuB,YAAMmB,QAAN,CAAetB,IAAf,CAAoBK,MAApB,CAA2BF,QAAlD,0DAAuB,sBAAsC,CAAtC,CAAvB;gBACA,KAAKE,MAAL,CAAYD,QAAZ,6BAAuB,YAAMkB,QAAN,CAAetB,IAAf,CAAoBK,MAApB,CAA2BD,QAAlD,2DAAuB,uBAAsC,CAAtC,CAAvB;;cA1BK;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAF;;MAAA;QAAA;MAAA;;MAAA;IAAA;EADG;AArBK,CAAf","names":["Request","Loading","data","load","account","username","password","errors","status","beforeCreate","Auth","window","localStorage","getItem","$router","push","name","components","methods","login","res","setItem","token","role","response","message","console","log"],"sourceRoot":"","sources":["C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\manage\\Login.vue"],"sourcesContent":["<template>\n\n\t<div class=\"container\">\n\t\t<Loading v-if=\"load\"></Loading>\n\t\t<div class=\"header\">\n\t\t\t<h1> ĐĂNG NHẬP TRANG QUẢN LÝ</h1>\n\t\t</div>\n\t\t<div class=\"screen\">\n\t\t\t<div class=\"screen__content\">\n\t\t\t\t<form class=\"login_admin\" method=\"post\" @submit.prevent=\"login()\">\n\t\t\t\t\t<p class=\"error_login\">{{ status }}</p>\n\t\t\t\t\t<div class=\"login__field\">\n\t\t\t\t\t\t<input type=\"text\" class=\"login__input\" v-model=\"account.username\" placeholder=\"Tên đăng nhập \">\n\t\t\t\t\t\t<p>{{ errors.username }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"login__field\">\n\t\t\t\t\t\t<input type=\"password\" v-model=\"account.password\" class=\"login__input\" placeholder=\"Mật khẩu\">\n\t\t\t\t\t\t<p>{{ errors.password }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"input_passwork\">\n\t\t\t\t\t\t<input type=\"checkbox\">Nhớ mật khẩu\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"button login__submit\" type=\"submit\">\n\t\t\t\t\t\t<span class=\"button__text\">ĐĂNG NHẬP</span>\n\t\t\t\t\t\t<i class=\"button__icon fas fa-chevron-right\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t\t<div class=\"social-login\">\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"screen__background\">\n\t\t\t\t<span class=\"screen__background__shape screen__background__shape4\"></span>\n\t\t\t\t<span class=\"screen__background__shape screen__background__shape3\"></span>\n\t\t\t\t<span class=\"screen__background__shape screen__background__shape2\"></span>\n\t\t\t\t<span class=\"screen__background__shape screen__background__shape1\"></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport Request from '@/Request';\nimport Loading from './Loading.vue';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tload: false,\n\t\t\taccount: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: '',\n\t\t\t},\n\t\t\terrors: {},\n\t\t\tstatus: ''\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tlet Auth = window.localStorage.getItem(\"K-admin\");\n\t\tif (Auth) {\n\t\t\tthis.$router.push({ name: 'manage' })\n\t\t}\n\t},\n\tcomponents: {\n\t\tLoading\n\t},\n\tmethods: {\n\t\tlogin: async function () {\n\t\t\tthis.load = true;\n\t\t\tthis.status = '';\n\t\t\tthis.errors = {};\n\t\t\ttry {\n\t\t\t\tconst res = await Request.login('/admin-login', this.account);\n\t\t\t\twindow.localStorage.setItem('K-admin', res.data.token);\n\t\t\t\tif (res.data.role == '0') {\n\t\t\t\t\tthis.$router.push({ name: 'manage' })\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.$router.push({ name: 'manage' })\n\t\t\t\t}\n\n\t\t\t\tthis.load = false;\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response.status == 500) {\n\t\t\t\t\tthis.status = 'Không thể kết nối đến server';\n\t\t\t\t\tthis.load = false;\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.status = error.response.data.message;\n\t\t\t\tthis.load = false;\n\t\t\t\t// this.errors = error.response.data.errors;\n\t\t\t\tconsole.log(error);\n\t\t\t\tthis.errors.username = error.response.data.errors.username?.[0];\n\t\t\t\tthis.errors.password = error.response.data.errors.password?.[0];\n\n\t\t\t}\n\t\t\t// Request.login('/admin-login',this.account)\n\t\t\t// .then(response => {\n\t\t\t// \twindow.localStorage.setItem('token', response.data.token);\n\t\t\t// \tthis.$router.push({name:'manage'})\n\t\t\t// \tthis.loading = false;\n\t\t\t// })\n\t\t\t// .catch(er =>{\n\t\t\t// \tif(!er.response){\n\t\t\t// \t\tconsole.log('bug')\n\t\t\t// \t}\n\t\t\t// \tconsole.log(er)\n\t\t\t// })\n\t\t},\n\t}\n}\n</script>\n<style scoped src ='@/assets/style/Login.css'>\n</style>"]}]}