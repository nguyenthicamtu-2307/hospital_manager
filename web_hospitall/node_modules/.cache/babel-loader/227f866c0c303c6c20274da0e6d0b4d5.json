{"remainingRequest":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\user\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\user\\Login.vue","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\babel.config.js","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696259729020},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696259729376}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvRlBUU0hPUC9Eb3dubG9hZHMvZG9hbi1tYWluL2RvYW4tbWFpbi93ZWJfaG9zcGl0YWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IFJlcXVlc3QgZnJvbSAnQC9SZXF1ZXN0JzsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjb3VudDogewogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgbWVzc2FnZUVycm9yOiB7fQogICAgfTsKICB9LAogIC8vIGNvbXB1dGVkOnsKICAvLyAgICAgLi4ubWFwU3RhdGUoW1VzZXJfbG9hZF0pCiAgLy8gfQogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsnc2V0dXNlckxvYWQnLCAnc2V0dXNlciddKSksIHt9LCB7CiAgICBMb2dpbjogZnVuY3Rpb24gTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLm1lc3NhZ2VFcnJvciA9IHt9OwogICAgICB0aGlzLnNldHVzZXJMb2FkKHRydWUpOwogICAgICBSZXF1ZXN0LlBvc3QoJy91c2VyLWxvZ2luJywgdGhpcy5hY2NvdW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5zZXR1c2VyTG9hZChmYWxzZSk7CgogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnSy11c2VyJywgcmVzLmRhdGEudG9rZW4pOwoKICAgICAgICBfdGhpcy5zZXR1c2VyKHJlcy5kYXRhKTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdVc2VyX0hvbWUnCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICB2YXIgX2VyciRyZXNwb25zZSRkYXRhJGVyLCBfZXJyJHJlc3BvbnNlJGRhdGEkZXIyOwoKICAgICAgICBfdGhpcy5zZXR1c2VyTG9hZChmYWxzZSk7CgogICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09IDUwMCkgewogICAgICAgICAgX3RoaXMuc3RhdHVzID0gJ0tow7RuZyB0aOG7gyBr4bq/dCBu4buRaSDEkeG6v24gc2VydmVyJzsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgX3RoaXMubWVzc2FnZUVycm9yLm1lcyA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgX3RoaXMubWVzc2FnZUVycm9yLmVtYWlsID0gKF9lcnIkcmVzcG9uc2UkZGF0YSRlciA9IGVyci5yZXNwb25zZS5kYXRhLmVycm9ycy5lbWFpbCkgPT09IG51bGwgfHwgX2VyciRyZXNwb25zZSRkYXRhJGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyJHJlc3BvbnNlJGRhdGEkZXJbMF07CiAgICAgICAgX3RoaXMubWVzc2FnZUVycm9yLnBhc3N3b3JkID0gKF9lcnIkcmVzcG9uc2UkZGF0YSRlcjIgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcnMucGFzc3dvcmQpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjJbMF07CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"mappings":";AA4BA,OAAOA,OAAP,MAAoB,WAApB;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,eAAe;EACXC,IADW,kBACJ;IACH,OAAO;MACHC,OAAO,EAAE;QACLC,KAAK,EAAE,EADF;QAELC,QAAQ,EAAE;MAFL,CADN;MAKHC,YAAY,EAAE;IALX,CAAP;EAOH,CATU;EAUX;EACA;EACA;EACAC,OAAO,kCACAN,YAAY,CAAC,CAAC,aAAD,EAAgB,SAAhB,CAAD,CADZ;IAEHO,KAAK,EAAE,iBAAY;MAAA;;MACf,KAAKF,YAAL,GAAoB,EAApB;MACA,KAAKG,WAAL,CAAiB,IAAjB;MACAT,OAAO,CAACU,IAAR,CAAa,aAAb,EAA4B,KAAKP,OAAjC,EACKQ,IADL,CACU,UAACC,GAAD,EAAS;QACX,KAAI,CAACH,WAAL,CAAiB,KAAjB;;QACAI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCH,GAAG,CAACV,IAAJ,CAASc,KAA/C;;QACA,KAAI,CAACC,OAAL,CAAaL,GAAG,CAACV,IAAjB;;QACA,KAAI,CAACgB,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACH,CANL,EAOKC,KAPL,CAOW,UAACC,GAAD,EAAS;QAAA;;QACZ,KAAI,CAACb,WAAL,CAAiB,KAAjB;;QACA,IAAIa,GAAG,CAACC,QAAJ,CAAaC,MAAb,IAAuB,GAA3B,EAAgC;UAC5B,KAAI,CAACA,MAAL,GAAc,8BAAd;UACA,KAAI,CAACC,OAAL,GAAe,KAAf;UACA;QACJ;;QACAC,OAAO,CAACC,GAAR,CAAYL,GAAZ;QACA,KAAI,CAAChB,YAAL,CAAkBsB,GAAlB,GAAwBN,GAAG,CAACC,QAAJ,CAAarB,IAAb,CAAkB2B,OAA1C;QACA,KAAI,CAACvB,YAAL,CAAkBF,KAAlB,4BAA0BkB,GAAG,CAACC,QAAJ,CAAarB,IAAb,CAAkB4B,MAAlB,CAAyB1B,KAAnD,0DAA0B,sBAAiC,CAAjC,CAA1B;QACA,KAAI,CAACE,YAAL,CAAkBD,QAAlB,6BAA6BiB,GAAG,CAACC,QAAJ,CAAarB,IAAb,CAAkB4B,MAAlB,CAAyBzB,QAAtD,2DAA6B,uBAAoC,CAApC,CAA7B;MACH,CAlBL;IAmBJ;EAxBG;AAbI,CAAf","names":["Request","mapMutations","data","account","email","password","messageError","methods","Login","setuserLoad","Post","then","res","window","localStorage","setItem","token","setuser","$router","push","name","catch","err","response","status","loading","console","log","mes","message","errors"],"sourceRoot":"","sources":["C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\user\\Login.vue"],"sourcesContent":["<template>\n    <div class=\"login\" id=\"login\">\n        <div class=\"login__container\">\n            <h2>MH Care</h2>\n            <P style=\"color:red\">{{ messageError.mes }}</P>\n            <div>\n                <span class=\"bx bx-user\"></span>\n                <input :class=\"{ 'error': messageError.email }\" v-model=\"account.email\" type=\"text\"\n                    placeholder=\"Địa chỉ email\">\n                <p>{{ messageError.email }}</p>\n            </div>\n            <div>\n                <span class=\"bx bx-lock\"></span>\n                <input :class=\"{ 'error': messageError.password }\" v-model=\"account.password\" type=\"password\"\n                    placeholder=\"Mật khẩu\">\n                <p>{{ messageError.password }}</p>\n            </div>\n            <div>\n                <button @click=\"Login()\">Đăng nhập</button>\n            </div>\n            <p>\n                <router-link :to=\"{ name: 'Register' }\">Đăng ký</router-link>\n            </p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Request from '@/Request'\nimport { mapMutations } from 'vuex'\nexport default {\n    data() {\n        return {\n            account: {\n                email: '',\n                password: '',\n            },\n            messageError: {}\n        }\n    },\n    // computed:{\n    //     ...mapState([User_load])\n    // }\n    methods: {\n        ...mapMutations(['setuserLoad', 'setuser']),\n        Login: function () {\n            this.messageError = {}\n            this.setuserLoad(true);\n            Request.Post('/user-login', this.account)\n                .then((res) => {\n                    this.setuserLoad(false);\n                    window.localStorage.setItem('K-user', res.data.token);\n                    this.setuser(res.data)\n                    this.$router.push({ name: 'User_Home' })\n                })\n                .catch((err) => {\n                    this.setuserLoad(false);\n                    if (err.response.status == 500) {\n                        this.status = 'Không thể kết nối đến server';\n                        this.loading = false;\n                        return\n                    }\n                    console.log(err);\n                    this.messageError.mes = err.response.data.message\n                    this.messageError.email = err.response.data.errors.email?.[0];\n                    this.messageError.password = err.response.data.errors.password?.[0];\n                })\n        }\n    }\n}\n</script>"]}]}