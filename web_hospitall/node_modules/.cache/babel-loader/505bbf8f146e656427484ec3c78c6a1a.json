{"remainingRequest":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\user\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\user\\Register.vue","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\babel.config.js","mtime":1655485572000},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696259729020},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696259727396},{"path":"C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696259729376}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvRlBUU0hPUC9Eb3dubG9hZHMvZG9hbi1tYWluL2RvYW4tbWFpbi93ZWJfaG9zcGl0YWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgUmVxdWVzdCBmcm9tICdAL1JlcXVlc3QnOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjb3VudDogewogICAgICAgIGZ1bGxuYW1lOiAnJywKICAgICAgICBnZW5kZXI6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgcGhvbmU6ICcnCiAgICAgIH0sCiAgICAgIG1lc3NhZ2VFcnJvcjoge30sCiAgICAgIGNvZGU6ICcnLAogICAgICBmb3JtQ29uZmlybTogZmFsc2UsCiAgICAgIENoZWNrOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnVXNlcl9sb2FkJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ3NldHVzZXJMb2FkJ10pKSwge30sIHsKICAgIFJlZ2lzdGVyOiBmdW5jdGlvbiBSZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubWVzc2FnZUVycm9yID0ge307CiAgICAgIHRoaXMuc2V0dXNlckxvYWQodHJ1ZSk7CiAgICAgIFJlcXVlc3QuUG9zdCgnL3VzZXItcmVnaXN0ZXItY2hlY2snLCB0aGlzLmFjY291bnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnNldHVzZXJMb2FkKGZhbHNlKTsKCiAgICAgICAgaWYgKHJlcy5kYXRhID09IDEpIHsKICAgICAgICAgIF90aGlzLmZvcm1Db25maXJtID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICB2YXIgX2VyciRyZXNwb25zZSRkYXRhJGVyLCBfZXJyJHJlc3BvbnNlJGRhdGEkZXIyLCBfZXJyJHJlc3BvbnNlJGRhdGEkZXIzLCBfZXJyJHJlc3BvbnNlJGRhdGEkZXI0LCBfZXJyJHJlc3BvbnNlJGRhdGEkZXI1OwoKICAgICAgICBfdGhpcy5zZXR1c2VyTG9hZChmYWxzZSk7CgogICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09IDUwMCkgewogICAgICAgICAgX3RoaXMuc3RhdHVzID0gJ0tow7RuZyB0aOG7gyBr4bq/dCBu4buRaSDEkeG6v24gc2VydmVyJzsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF90aGlzLm1lc3NhZ2VFcnJvci5mdWxsbmFtZSA9IChfZXJyJHJlc3BvbnNlJGRhdGEkZXIgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcnMuZnVsbG5hbWUpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UkZGF0YSRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZSRkYXRhJGVyWzBdOwogICAgICAgIF90aGlzLm1lc3NhZ2VFcnJvci5lbWFpbCA9IChfZXJyJHJlc3BvbnNlJGRhdGEkZXIyID0gZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3JzLmVtYWlsKSA9PT0gbnVsbCB8fCBfZXJyJHJlc3BvbnNlJGRhdGEkZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyJHJlc3BvbnNlJGRhdGEkZXIyWzBdOwogICAgICAgIF90aGlzLm1lc3NhZ2VFcnJvci5nZW5kZXIgPSAoX2VyciRyZXNwb25zZSRkYXRhJGVyMyA9IGVyci5yZXNwb25zZS5kYXRhLmVycm9ycy5nZW5kZXIpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjNbMF07CiAgICAgICAgX3RoaXMubWVzc2FnZUVycm9yLnBhc3N3b3JkID0gKF9lcnIkcmVzcG9uc2UkZGF0YSRlcjQgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcnMucGFzc3dvcmQpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjRbMF07CiAgICAgICAgX3RoaXMubWVzc2FnZUVycm9yLnBob25lID0gKF9lcnIkcmVzcG9uc2UkZGF0YSRlcjUgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcnMucGhvbmUpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnIkcmVzcG9uc2UkZGF0YSRlcjVbMF07CiAgICAgIH0pOwogICAgfSwKICAgIENvbmZpcm06IGZ1bmN0aW9uIENvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zZXR1c2VyTG9hZCh0cnVlKSwgdGhpcy5hY2NvdW50LmNvZGUgPSB0aGlzLmNvZGUsIFJlcXVlc3QuUG9zdCgnL3VzZXItcmVnaXN0ZXInLCB0aGlzLmFjY291bnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGFsZXJ0KCfEkMSDbmcga8O9IHRow6BuaCBjw7RuZyB2dWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaScpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIF90aGlzMi5zZXR1c2VyTG9hZChmYWxzZSk7CgogICAgICAgIF90aGlzMi5mb3JtQ29uZmlybSA9IGZhbHNlOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIGFsZXJ0KCdNw6MgeMOhYyBuaOG6rW4ga2jDtG5nIGNow61uaCB4w6FjIHZ1aSBsw7JuZyBraeG7g20gdHJhIGzhuqFpLicpOwoKICAgICAgICBfdGhpczIuc2V0dXNlckxvYWQoZmFsc2UpOwogICAgICB9KTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgY29kZTogZnVuY3Rpb24gY29kZSgpIHsKICAgICAgaWYgKHRoaXMuY29kZS50b1N0cmluZygpLmxlbmd0aCA9PSA2KSB7CiAgICAgICAgdGhpcy5DaGVjayA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuQ2hlY2sgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["Request","mapState","mapMutations","data","account","fullname","gender","email","password","phone","messageError","code","formConfirm","Check","computed","methods","Register","setuserLoad","Post","then","res","catch","err","response","status","loading","errors","Confirm","alert","console","log","$router","push","name","watch","toString","length"],"sourceRoot":"","sources":["C:\\Users\\FPTSHOP\\Downloads\\doan-main\\doan-main\\web_hospitall\\src\\components\\user\\Register.vue"],"sourcesContent":["<template>\n    <div class=\"login\" id=\"login\">\n        <div class=\"confirm__wrap\" v-if=\"formConfirm\">\n            <div class=\"confirm\">\n                <h2>Mã xác nhận đã được gửi tới:<br> <span>{{account.email}}</span></h2>\n                <input v-model=\"code\" type=\"number\" name=\"\" id=\"\" placeholder=\"Gồm 6 số\">\n                <div class=\"btn\">\n                    <button :disabled=\"Check\" @click=\"Confirm()\">XÁC NHẬN</button>\n                    <button @click=\"formConfirm = false\">HỦY</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"login__container\">\n            <h2>MH Care</h2>\n            <div>\n                <input :class=\"{'error':messageError.fullname}\" type=\"text\" v-model=\"account.fullname\" placeholder=\"Họ và tên\">\n                <span class=\"bx bx-user\"></span>\n                <p>{{messageError.fullname}}</p>\n            </div>\n            <div>\n                <span class=\"bx bx-male-female\"></span>\n                <select :class=\"{'error':messageError.gender}\" v-model=\"account.gender\" name=\"\" id=\"\">\n                    <option value=\"\" disabled>Chọn giới tính</option>\n                    <option value=\"Nam\">Nam</option>\n                    <option value=\"Nữ\">Nữ</option>\n                    <option value=\"Khác\">Khác</option>\n                </select>\n                <p>{{messageError.gender}}</p>\n            </div>\n            <div>\n                <span class=\"bx bx-user-pin\"></span>\n                <input :class=\"{'error':messageError.email}\" type=\"email\" placeholder=\"Email\" v-model=\"account.email\">\n                <p>{{messageError.email}}</p>\n            </div>\n            <div>\n                <span class=\"bx bx-lock\"></span>\n                <input :class=\"{'error':messageError.password}\" type=\"password\" placeholder=\"Mật khẩu\" v-model=\"account.password\">\n                <p>{{messageError.password}}</p>\n            </div>\n            <div>\n                <span class=\"bx bx-phone\"></span>\n                <input :class=\"{'error':messageError.phone}\" type=\"number\" placeholder=\"Số điện thoại\" v-model=\"account.phone\">\n                <p>{{messageError.phone}}</p>\n            </div>\n            <div>\n                <button @click=\"Register()\">Đăng ký</button>\n            </div>\n            <p><router-link :to=\"{name:'Login'}\">Đăng nhập</router-link></p>\n        </div>\n    </div>\n</template>\n<script>\nimport Request from '@/Request'\nimport {mapState, mapMutations} from 'vuex'\nexport default {\n    data() {\n        return {\n            account:{\n                fullname:'',\n                gender:'',\n                email:'',\n                password:'',\n                phone:'',\n            },\n            messageError:{},\n            code:'',\n            formConfirm:false,\n            Check:true,\n        }\n    },\n    computed:{\n        ...mapState(['User_load']),\n    },\n    methods: {\n        ...mapMutations(['setuserLoad']),\n        Register:function() {\n            this.messageError ={}\n            this.setuserLoad(true)\n            Request.Post('/user-register-check',this.account)\n            .then((res) =>{\n                this.setuserLoad(false);\n                if(res.data == 1){\n                    this.formConfirm = true;\n                }\n            })\n            .catch((err) =>{\n                this.setuserLoad(false);\n                if(err.response.status == 500) {\n                    this.status = 'Không thể kết nối đến server';\n                    this.loading = false;\n                    return\n                }\n                this.messageError.fullname = err.response.data.errors.fullname?.[0];\n                this.messageError.email = err.response.data.errors.email?.[0];\n                this.messageError.gender = err.response.data.errors.gender?.[0];\n                this.messageError.password = err.response.data.errors.password?.[0];\n                this.messageError.phone = err.response.data.errors.phone?.[0];\n            })\n        },\n        Confirm(){\n            this.setuserLoad(true),\n            this.account.code = this.code,\n            Request.Post('/user-register',this.account)\n            .then((res) =>{\n                alert('Đăng ký thành công vui lòng đăng nhập lại')\n                console.log(res)\n                this.setuserLoad(false)\n                this.formConfirm = false\n                this.$router.push({name:'Login'})\n            })\n            .catch(() =>{\n                alert('Mã xác nhận không chính xác vui lòng kiểm tra lại.')\n                this.setuserLoad(false)\n            })\n        }\n    },\n    watch:{\n        code:function() {\n            if(this.code.toString().length == 6){\n                this.Check = false;\n            }\n            else{\n                this.Check = true;\n            }\n        }\n    }\n}\n</script>"]}]}